<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>[*Bài tập] Phát triển game lái xe</title>
</head>
<body style="text-align: center" onkeydown="gameBoard.moveCar(event)">
<canvas width="1000px" height="550px" style="border: 1px solid blue"></canvas>
<script>
    let canvas = document.querySelector("canvas");
    let context = canvas.getContext("2d");
    function Car () {
        this.x = 450;
        this.y = 225;
        this.width = 100;
        this.speed = 1;
        this.orientation = "up";
        this.draw = function(){
            context.beginPath();
            context.rect(this.x, this.y, this.width, this.width);
            context.fillStyle = "blue";
            context.fill();
        }
        this.move = function(){
            switch (this.orientation) {
                case "up":
                    this.y -= this.speed;
                    break;
                case "down":
                    this.y += this.speed;
                    break;
                case "left":
                    this.x -= this.speed;
                    break;
                case "right":
                    this.x += this.speed;
                    break;
            }
        }
    }
    function GameBoard () {
        this.car = new Car();
        this.render = function(){
            context.clearRect(0, 0, canvas.width, canvas.height);
            this.car.draw();
        }
        this.moveCar = function (event) {
            switch (event.which) {
                case 37:
                    this.car.orientation = "left";
                    break;
                case 38:
                    this.car.orientation = "up";
                    break;
                case 39:
                    this.car.orientation = "right";
                    break;
                case 40:
                    this.car.orientation = "down";
                    break;
                case 17:
                    this.car.speed = 10;
                    break;
                case 16:
                    this.car.speed = 1;
                    break;
            }
            this.car.move();
            this.render();
        }
    }
    let gameBoard = new GameBoard();
    gameBoard.car.draw();
    setInterval(function(){
        gameBoard.car.move();
        gameBoard.render();
    }, 100)
</script>
</body>
</html>